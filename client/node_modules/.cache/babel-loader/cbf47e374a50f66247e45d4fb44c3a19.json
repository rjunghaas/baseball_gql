{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/Ryan/Desktop/baseball_gql/webapp-hooks/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  query PlayerId($searchStr: String!){\\n    getPlayer(searchStr: $searchStr){\\n      name\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport { gql } from 'apollo-boost';\nimport { useQuery } from '@apollo/react-hooks';\nconst PLAYER_QUERY = gql(_templateObject());\nexport const resolvers = {\n  Mutation: {\n    setPlayerId: (_, {\n      searchStr\n    }, {\n      cache\n    }) => {\n      const _useQuery = useQuery(PLAYER_QUERY),\n            error = _useQuery.error,\n            data = _useQuery.data;\n\n      if (error) {\n        console.warn(error);\n        return \"Error! \".concat(error.message);\n      }\n\n      if (data) {\n        cache.writeData({\n          data: {\n            searchStr: searchStr,\n            name: data.getPlayer.name,\n            id: data.getPlayer.id\n          }\n        });\n      }\n\n      return null;\n    }\n  }\n};\nexport default resolvers;","map":{"version":3,"sources":["/Users/Ryan/Desktop/baseball_gql/webapp-hooks/src/components/resolvers.ts"],"names":["gql","useQuery","PLAYER_QUERY","resolvers","Mutation","setPlayerId","_","searchStr","cache","error","data","console","warn","message","writeData","name","getPlayer","id"],"mappings":";;;;;;;;;;;;AACA,SAASA,GAAT,QAAoB,cAApB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AAEA,MAAMC,YAAY,GAAGF,GAAH,mBAAlB;AAeA,OAAO,MAAMG,SAAS,GAAG;AACvBC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,WAAW,EAAE,CAACC,CAAD,EAAY;AAAEC,MAAAA;AAAF,KAAZ,EAAgC;AAAEC,MAAAA;AAAF,KAAhC,KAAmD;AAAA,wBACtCP,QAAQ,CAACC,YAAD,CAD8B;AAAA,YACtDO,KADsD,aACtDA,KADsD;AAAA,YAC/CC,IAD+C,aAC/CA,IAD+C;;AAG9D,UAAID,KAAJ,EAAW;AACTE,QAAAA,OAAO,CAACC,IAAR,CAAaH,KAAb;AACA,gCAAkBA,KAAK,CAACI,OAAxB;AACD;;AAED,UAAGH,IAAH,EAAQ;AACNF,QAAAA,KAAK,CAACM,SAAN,CAAgB;AACdJ,UAAAA,IAAI,EAAE;AACJH,YAAAA,SAAS,EAAEA,SADP;AAEJQ,YAAAA,IAAI,EAAEL,IAAI,CAACM,SAAL,CAAeD,IAFjB;AAGJE,YAAAA,EAAE,EAAEP,IAAI,CAACM,SAAL,CAAeC;AAHf;AADQ,SAAhB;AAOD;;AACD,aAAO,IAAP;AACD;AAnBO;AADa,CAAlB;AAwBP,eAAed,SAAf","sourcesContent":["import React from \"react\";\nimport { gql } from 'apollo-boost';\nimport { useQuery } from '@apollo/react-hooks';\n\nconst PLAYER_QUERY = gql`\n  query PlayerId($searchStr: String!){\n    getPlayer(searchStr: $searchStr){\n      name\n      id\n    }\n  }\n`;\n\ntype playerQueryObj = {\n  searchStr: string,\n  name: string,\n  id: number\n};\n\nexport const resolvers = {\n  Mutation: {\n    setPlayerId: (_: Object, { searchStr }: any, { cache }: any) => {\n      const { error, data } = useQuery(PLAYER_QUERY);\n\n      if (error) {\n        console.warn(error);\n        return (`Error! ${error.message}`);\n      }\n\n      if(data){\n        cache.writeData({\n          data: {\n            searchStr: searchStr,\n            name: data.getPlayer.name,\n            id: data.getPlayer.id,\n          }\n        })\n      }\n      return null;\n    }\n  }\n};\n\nexport default resolvers;\n"]},"metadata":{},"sourceType":"module"}